WEBVTT

00:01.350 --> 00:02.080
Hello again.

00:02.100 --> 00:05.530
And what we are looking at is the store method.

00:05.550 --> 00:06.150
The store.

00:06.150 --> 00:10.830
Action from the post controller which should look like this from The Last Lecture.

00:10.860 --> 00:18.810
So we are reading the input that is being sent through the forum using the request input methods and

00:18.810 --> 00:23.360
reading that into the title and content variables and outputting this.

00:23.370 --> 00:29.970
So this is not how we like our store method to look like we want to save something to the database so

00:29.970 --> 00:37.890
we can do that by actually creating a new blog post model using the new keyword and then instead of

00:37.980 --> 00:46.770
assigning it to variables we would like to assign to the blog post title and content properties.

00:46.770 --> 00:54.730
So now we have our new blog post model but it's not inside the database before you actually call save.

00:56.460 --> 01:02.940
So only then this would be stored but now we are left with this deal that we are dumping the data.

01:03.000 --> 01:05.280
And this is not really user friendly.

01:05.280 --> 01:12.060
In such cases we usually would like to do a redirect to some other page like to the least of the blog

01:12.060 --> 01:15.440
posts or maybe to this new particular blog post.

01:15.440 --> 01:17.820
Depends on your application.

01:17.820 --> 01:22.470
So what we have to do is to return redirect response.

01:22.590 --> 01:30.120
Hopefully we can do that very easy with Laura travel by using the helper function redirect.

01:30.150 --> 01:35.200
And here you will have to specify the URL you'd like to redirect to.

01:35.220 --> 01:39.470
So this would be the least of all the posts that index action.

01:39.780 --> 01:48.000
And alternatively you can redirect to a specific route so you can do that by changing the method call

01:48.000 --> 01:51.300
to the next method which would be the route and the route.

01:51.300 --> 01:59.430
Name is Post's index in case you would like to redirect to a route that accepts some parameters that's

01:59.790 --> 02:03.150
open the terminal and see what are our routes.

02:03.150 --> 02:09.060
We have a route for displaying a single post and he accepts up post parameter.

02:09.060 --> 02:17.430
So now let's try redirecting to this new brand this brand new post and how we specify parameters is

02:17.460 --> 02:25.020
inside the second argument as an array and the parameter name and the parameter value.

02:25.040 --> 02:33.450
So the post would be the blog post I.D. mind that you cannot use that I.D. attribute of the blog post

02:33.450 --> 02:41.500
model before you save it because it's only it only gets assigned when the the model is actually stored.

02:41.520 --> 02:43.990
The record is added to the database.

02:44.160 --> 02:48.760
And the idea is being out generated by the database.

02:48.900 --> 02:52.550
So let's save the changes and see how that works.

02:52.590 --> 02:57.800
So let's type some random content doesn't really matter.

02:57.870 --> 02:59.840
And now click Create.

03:00.300 --> 03:07.080
So we immediately see that we are being redirected to the blog post 7 and this is our blog post and

03:07.110 --> 03:09.270
also we can see it on the least.
