WEBVTT

00:00.810 --> 00:06.660
In the last lecture we have learned how we can pollinate the collection response and also how to specify

00:06.690 --> 00:09.690
the amount of items we would like per page.

00:10.020 --> 00:16.260
So also we have learned that even though you will disable data wrapping when you have some additional

00:16.260 --> 00:24.300
parameters and in case with pollination you always do that data wrapping will be re enabled anyway.

00:24.300 --> 00:30.210
Also notice the interesting thing that inside the links a lot of it is automatically appending a query

00:30.210 --> 00:38.010
parameter called page and then it also understands it automatically so if you will add this query parameter

00:38.010 --> 00:43.500
to the URL it will display the recent results for the specific page.

00:43.500 --> 00:51.450
Now sometimes we might like to add some query parameter of our own and a good case for that would be

00:51.450 --> 00:55.770
specifying how many items we would like per page.

00:55.770 --> 00:57.150
So let's see how we can do that.

00:57.150 --> 01:06.360
So first we would need to do the request object to the method and from the request we can read some

01:06.360 --> 01:16.680
parameters so let's call it per page and request input and the parameter name would be per page and

01:16.680 --> 01:25.560
what we would like to do is to either use this parameter of if it is not specified then just specify

01:25.650 --> 01:26.690
no.

01:27.120 --> 01:31.400
Or well maybe a better option would be to specify let's say 15.

01:31.410 --> 01:37.660
So that's the default and also let's convert that to integer.

01:37.730 --> 01:45.090
Now what we can do is we can pass this parameter to the target date method and let's see if that works.

01:45.090 --> 01:53.830
So first we visit a list of comments and per page is 15 because that's the default option if you will

01:53.830 --> 02:01.540
specify that you want per page let's say five items you got that but the problem is with the links for

02:01.540 --> 02:02.650
the next pages.

02:02.680 --> 02:10.290
So even though you see that per page is five when you will go to those links to the next pages.

02:10.420 --> 02:18.300
Well this won't work because actually we want to pass around this parameter per page so.

02:18.520 --> 02:21.400
Well let's even try that.

02:21.460 --> 02:23.820
So the link to the next page will look like this.

02:23.830 --> 02:29.270
It will have page 2.

02:29.360 --> 02:35.720
So now you see you don't have any results and the meta data says that there are total seven elements

02:35.810 --> 02:37.800
and 15 per page.

02:37.880 --> 02:45.020
And this is because to get that working you will have to pass around this parameter with a link and

02:45.290 --> 02:47.600
well how do you do that.

02:47.630 --> 02:53.900
So we have to modify what lot of it is generating with the links.

02:53.900 --> 03:02.920
So there is actually a way to do that and this is called appends and inside this offense you can specify

03:02.980 --> 03:05.280
an array of some additional parameters.

03:05.290 --> 03:13.910
So let's say we would like a per page parameter and we can use our per page variable which will contain

03:13.940 --> 03:17.870
either 15 or the value provided by the user.

03:17.900 --> 03:19.340
So let's save the changes.

03:19.420 --> 03:30.330
And now let's first maybe like that so let's fetch the comments and now what you can see is that those

03:30.330 --> 03:36.810
links generated by Lara will not only contain a link to the page that should be opened while the chunk

03:36.810 --> 03:45.950
of data that's true should be returned but it also contains your own parameter per page and now if you

03:45.950 --> 03:52.070
will modify this request to visit the page second and see five items per page.

03:52.070 --> 03:52.810
Now it works.

03:52.820 --> 03:55.650
So you see two elements.

03:55.980 --> 04:03.330
So this was a useful example to see how you can pass around this per page parameter but this works with

04:03.450 --> 04:04.770
any kind of parameters.

04:04.770 --> 04:12.480
So this upends method lets you add any additional parameters whether this is a parameter that specifies

04:12.480 --> 04:17.470
how items should be sorted or how the items should be filtered.

04:17.490 --> 04:22.800
That's the way to do it and to let a lot of generate those links correctly.
